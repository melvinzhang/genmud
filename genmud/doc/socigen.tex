\chapter{Society Generation}

\section{Introduction}

There is code to generate societies in the game. The reason for this is
to avoid having to make tons of similar mobs for all kinds of societies.
It is called by typing {\bf{society generate}}. If there are generated
societies already, then this fails, but the way to clear this is to type
society clearall which will stop these societies from saving and
then rebooting will allow you to generate the societies. Societies 
are automatically cleared when the world is cleared using worldgen
clear yes.

\section{Data Needed}

The data needed to generate societies is stored in the 
SOCIETYGEN\_AREA\_VNUM which is currently 106000. Other data needed can be
found in the SOCIETY\_CASTE\_AREA\_VNUM. 

The first area contains objects that will be used to generate societies.
They are things and their names are the three kinds of names that
a society needs: name pname aname. If you don't fill these in, you will
get funny blanks when you generate the societies. The short\_desc is
a list of adjectives that the society can get like wood elf, cave orc,
and so forth.

If the society is given a list of flags, then if those are society flags,
the society gets those automatically set on it. Societies are automatically
set to be aggressive, settler, xenophobic and fixed align. If you want
to remove those flags, then set them in the society generator since the
flags in the generator are XORed with the base flags.

Other flags are added to the society like normal so you can set the 
society to have det invis or det dark or what have you. The highlevel
mobs are automatically given detection ability.

The other part of the data is the list of caste names. This data is
used because each caste of each society gets around 5 tiers made
and the names used are randomly picked from the lists.

These lists can be overridden by adding to the society generator 
description.

Lines of the form caste caste-name list-of-names will use that list
of names to generate caste tiers for that society. 

\section{Generation}

The generation code works as follows. The game loops through all of the
objects in the society generator area, then creates stock mobs for each
society within a certain race (like wild-elf high-elf dark-elf all
share the same mobs) then creates equipment for each different
adjective.

The level of the society generator gives the max level that society
members can attain. The children start at 1/10 of that level and
go up to about 1/3 of that level. The non warrior castes start at about
1/3 of the level and go up to about 1/2 of the level. The warrior
castes start at 1/2 of the level and go up to the full level. The highest
level leader is an "Overlord" and it is much more powerful than all other
society members.


The equipment generated is made using the objectgen code and each society
gets several items so that there will be lots of loot in the world. :)

If the society generator has a special name like cave or deep or snow, 
then the society gets special flags set on it. If the society has
room flags set on it, then the society will only be reset in areas
with some of those room flags set.

\section{Special Societies}

There are some special societies made during the world generation process. In
particular, there are demons made several levels down into the pits of hell,
and there are highlevel races of every alignment made (guardians of some
sort), and there are several organizations made for each society (secret
societies that can help players). These all have their  own quirks and get
placed in different thing locations in memory.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
